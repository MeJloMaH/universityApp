<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>

<title>Lesson</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
	rel="stylesheet">

<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js">
	
</script>

</head>

<body>
	<div class="container">
		<div>
			<header th:insert="blocks/header :: header"></header>
		</div>



		<div class="p-3 mb-auto bg-light text-dark">

			<div class="container">
				<div th:if="${error}">
					<p class="text-danger">
						<span>Error:</span><span th:text="${error}"></span>
					</p>
				</div>


				<div th:if="${lesson.id}">
				
					<div th:if="${errorName}">
						<p class="text-danger">
							<span>Error : </span><span th:text=" ${errorName}"></span>
						</p>
					</div>


					<form th:action="@{/lessons/{id}(id=${lesson.id})}"
						th:object="${lesson}" method="post">

						<input hidden type="text" th:field="*{id}" />

						<div>
							<p>
								Name : <span class="text-end"> <input type="text"
									class="form-floating" th:field="*{name}">
								</span>
							</p>

							<div class="input-group mb-3">
								<div>
									Choise date <input
										style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;"
										type="date" th:field="${lesson.date}" />
								</div>
							</div>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise number per day</div>



							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.numberPerDay}" required>

								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>

							</select>


							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise group</div>

							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.group.id}" required>

								<option th:each="group : ${groups}" th:value="${group.id}"
									th:text="${group.name}"
									th:selected="${group.id==lesson.group.id}"></option>
							</select>


							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise teacher</div>

							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.teacher.id}" required>

								<option th:each="teacher : ${teachers}" th:value="${teacher.id}"
									th:text="${teacher.name}"
									th:selected="${teacher.id==lesson.teacher.id}"></option>
							</select>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise subject</div>

							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.subject.id}" required>

								<option th:each="subject : ${subjects}" th:value="${subject.id}"
									th:text="${subject.name}"
									th:selected="${subject.id==lesson.subject.id}"></option>
							</select>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise room</div>

							<select style="inline-size: 30%;" class="form-select "
								th:field="${lesson.room.id}" required>

								<option th:each="room : ${rooms}" th:value="${room.id}"
									th:text="${room.name} + ' loc -->' + ${room.location}"
									th:selected="${room.id==lesson.room.id}"></option>
							</select> <input class="btn btn-light" style="margin-top: 10px;"
								type="submit" value="Save" />
						</div>

					</form>


				</div>


				<div th:unless="${lesson.id}">
				
					<div th:if="${errorName}">
						<p class="text-danger">
							<span>Error : </span><span th:text=" ${errorName}"></span>
						</p>
					</div>

					<form action="#" th:action="@{/lessons}" th:object="${lesson}"
						method="post">


						<input hidden type="text" th:field="*{id}" />

						<div>
							<p>
								Name : <input type="text" class="form-floating"
									th:field="*{name}">

							</p>

							<div class="input-group mb-3">
								<div>
									Choise date <input
										style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;"
										type="date" th:field="${lesson.date}" />
								</div>
							</div>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise number per day</div>



							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.numberPerDay}" required>

								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>

							</select>


							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise group</div>

							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.group.id}" required>

								<option th:each="group : ${groups}" th:value="${group.id}"
									th:text="${group.name}"
									th:selected="${group.id==lesson.group.id}"></option>
							</select>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise teacher</div>

							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.teacher.id}" required>

								<option th:each="teacher : ${teachers}" th:value="${teacher.id}"
									th:text="${teacher.name}"
									th:selected="${teacher.id==lesson.teacher.id}"></option>
							</select>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise subject</div>

							<select style="inline-size: 20%;" class="form-select "
								th:field="${lesson.subject.id}" required>

								<option th:each="subject : ${subjects}" th:value="${subject.id}"
									th:text="${subject.name}"
									th:selected="${subject.id==lesson.subject.id}"></option>
							</select>

							<div
								style="margin-top: 10px; margin-bottom: 12px; padding-left: 10px;">
								Choise room</div>

							<select style="inline-size: 30%;" class="form-select "
								th:field="${lesson.room.id}" required>

								<option th:each="room : ${rooms}" th:value="${room.id}"
									th:text="${room.name} + ' loc -->' + ${room.location}"
									th:selected="${room.id==lesson.room.id}"></option>
							</select> <input class="btn btn-light" style="margin-top: 10px;"
								type="submit" value="Save" />
						</div>


					</form>

				</div>
			</div>
		</div>
	</div>
</body>

</html>